<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>
    <h1>Let's play!</h1>
    <h2>Rock Paper Scissors</h2>
    <script>
        //array with the choices
        const choices = ["rock", "paper", "scissors"];

        //choices
        let playerSelection = "";
        let computerSelection = "";

        //scores
        let playerScore = 0;
        let computerScore = 0;

        //Return a random value of the choices array
        function computerPlay(){
            return choices[Math.floor(Math.random() * 3)];
        }

        //Takes the choices and compare them
        function play(player, computer){
            console.log(`player: ${player}`);
            console.log(`computer: ${computer}`);

            if(player !== computer){
                if(player === "rock" && computer === "scissors"){
                    playerScore ++;
                } else if(player === "paper" && computer === "rock"){
                    playerScore ++;
                } else if(player === "scissors" && computer === "paper"){
                    playerScore ++;
                } else {
                    computerScore ++;
                }
            }
        }
        
        //Creates an iteration for 5 plays, generates new choices before passing the parameters. Compares the scores and declares a winner
        function game(){
            for(let i = 0; i < 5; i++){
                playerSelection = prompt("Introduce your choice").toLowerCase();
                computerSelection = computerPlay();
                play(playerSelection, computerSelection);
            }
            if(playerScore > computerScore){
                return `You win! Player score:${playerScore} Computer score:${computerScore}`;
            } else if(computerScore > playerScore){
                return `You lose! Player score:${playerScore} Computer score:${computerScore}`;
            } else {
                return "It's a tie";
            }
        }
        console.log(game());

    </script>
</body>
</html>